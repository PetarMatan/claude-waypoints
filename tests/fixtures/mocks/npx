#!/bin/bash
# Mock npx command for testing

TEST_TMP="${TEST_TMP:-/tmp}"

# npx tsc --noEmit for test compilation
if [[ "$1" == "tsc" ]]; then
    exit_code=$(cat "$TEST_TMP/mock_compile_exit_code" 2>/dev/null || echo "0")
    output=$(cat "$TEST_TMP/mock_compile_output" 2>/dev/null || echo "")
    echo "$output"
    exit "$exit_code"
fi

echo "Mock npx: $*"
exit 0
